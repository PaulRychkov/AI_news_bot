# Проект Новостной Бот

## Описание

Данный проект используется для получения сводки новостей по теме и промежутку времени, которые задает пользователь. Запрос пользователя обрабатывается при помощи RAG-системы, которая основывается на работе Gpt-4o и MS SQL Server.

## Структура проекта

```plaintext
project/
├── bot.py
├── parser.py
├── main.py
├── env_setup.py
├── gpt_request.md
├── gpt_summarize.md
├── sql_scripts/  
    ├── NEWS_AddNews.sql
    ├── NEWS.sql
├── requirements.txt
├── .env
```

- **bot.py:** Класс для работы Telegram-бота. Модуль обрабатывает запросы пользователя на естественном языке, содержащие темы новостей и временной промежуток.
- **parser.py:** Класс сбора новостей из различных источников и сохранения их в базу данных.
- **main.py:** Файл запуска проекта.
- **env_setup.py:** Скрипт настройки переменных окружения.
- **gpt_request.md:** Промпт для обработки пользовательского запроса.
- **gpt_summarize.md:** Промпт для определения наиболее актуальных новостей и суммаризации текстов новостей.
- **requirements.txt:** Файл с зависимостями проекта.
- **.env:** Файл с переменными окружения.

## Установка
1. Создайте Telegram бота при помощи @BotFather

2. Зарегистрируйте инструмент разработчика Telegram

3. Создайте базу данных MS SQL Server

4. При помощи скриптов в sql_scripts/ создайте таблицу и процедуры

5. Клонируйте репозиторий:

   ```sh
   git clone https://github.com/PaulRychkov/AI_news_bot.git
   cd news_ai_bot
   ```

6. Создайте виртуальное окружение и активируйте его:

   ```sh
   python -m venv venv
   source venv/bin/activate
   ```

7. Установите необходимые зависимости:

   ```sh
   pip install -r requirements.txt
   ```

8. Создайте файл `.env` и добавьте в него необходимые переменные окружения:

   ```py
   SERVER #Имя сервера MS SQL
   DATABASE #Название базы данных
   USERNAME #Логин
   PASSWORD #Пароль
   DB_DRIVER #Драйвер ODBC базы данных

   OPENAI_API_KEY #Ключ OpenAI API
   BOT_API_TOKEN #Токен Бота Telegram
 
   API_ID #API Telegram
   API_HASH #API hash Telegram
   PHONE #Номер телефона
   ```


## Использование

1. Запустите скрипт для настройки переменных окружения:

   ```sh
   python env_setup.py
   ```

2. Запустите основной скрипт:

   ```sh
   python main.py
   ```

3. Теперь ваш бот готов к использованию. Откройте Telegram и найдите своего бота по имени, чтобы начать взаимодействие.